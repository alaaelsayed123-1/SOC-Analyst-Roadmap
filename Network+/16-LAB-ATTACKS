# ğŸ›¡ï¸ SOC Analyst Networking & IP Addressing â€“ Practical Lab

## ğŸ¯ Lab Objective
This lab simulates **real-world networking scenarios and attacks** that a **SOC Analyst** may face, focusing on:
- IP Addressing
- DHCP mechanisms
- Network misconfigurations
- Common Layer 2 & Layer 3 attacks
- Detection and mitigation techniques

---

## ğŸ§  Scenario Overview

You are a **SOC Analyst** monitoring a corporate network consisting of:
- Employees PCs
- Servers
- Switches
- Routers
- DHCP Server
- Firewall

Suddenly, users report:
- No internet access
- IP conflicts
- Slow network performance

Your task is to **investigate, detect, and mitigate** the issues.

---

## ğŸ§© Network Architecture

- Network: `192.168.10.0/24`
- Gateway: `192.168.10.1`
- DHCP Server: `192.168.10.5`
- Web Server (Static IP): `192.168.10.10`

---

## ğŸ”¹ Part 1: Static IP Addressing

### ğŸ“Œ Description
Servers are configured with **static IP addresses** to ensure consistent access.

### ğŸ§ª Scenario
An attacker inside the network manually assigns:
pretending to be the Web Server.

### ğŸš¨ Attack Type
- IP Spoofing
- ARP Poisoning

### ğŸ” SOC Investigation Steps
- Check ARP tables
- Review switch MAC address tables
- Analyze IDS/IPS alerts

### ğŸ› ï¸ Mitigation
- Port Security
- Static ARP entries
- Network segmentation
- Switch monitoring

---

## ğŸ”¹ Part 2: Dynamic IP Addressing (DHCP)

### ğŸ“Œ Description
Employee devices obtain IPs dynamically via DHCP.

### ğŸ§ª Scenario
A rogue device starts acting as a **fake DHCP server**, assigning:
- Wrong Gateway
- Attacker-controlled DNS

### ğŸš¨ Attack Type
- Rogue DHCP
- Man-in-the-Middle (MITM)

### ğŸ” SOC Investigation Steps
- Monitor DHCP logs
- Detect multiple DHCP OFFER packets
- Analyze abnormal gateway assignments

### ğŸ› ï¸ Mitigation
- Enable DHCP Snooping
- Configure trusted ports
- Block unauthorized DHCP responses

---

## ğŸ”¹ Part 3: APIPA (169.254.x.x)

### ğŸ“Œ Description
Devices self-assign APIPA addresses when DHCP fails.

### ğŸ§ª Scenario
Multiple devices suddenly receive:

### ğŸš¨ Possible Causes
- DHCP Server failure
- VLAN misconfiguration
- DHCP starvation attack

### ğŸ” SOC Investigation Steps
- Check DHCP server status
- Review switch VLAN settings
- Analyze traffic volume

### ğŸ› ï¸ Mitigation
- Restore DHCP service
- Rate-limit DHCP requests
- Enable DHCP Snooping

---

## ğŸ”¹ Part 4: Alternative Configuration

### ğŸ“Œ Description
Critical systems use **alternative static IPs** if DHCP fails.

### ğŸ§ª Scenario
A medical system switches to its backup IP configuration.

### ğŸš¨ Security Risk
- Predictable IP targeting
- Unauthorized access attempts

### ğŸ› ï¸ Mitigation
- Firewall rules
- ACLs
- Continuous monitoring

---

## ğŸ”¹ Part 5: DHCP DORA Process

### ğŸ”„ Steps
1. Discover
2. Offer
3. Request
4. Acknowledge

### ğŸ§ª Scenario
An attacker floods the network with fake DHCP requests.

### ğŸš¨ Attack Type
- DHCP Starvation (DoS)

### ğŸ” SOC Investigation Steps
- Monitor DHCP pool usage
- Detect abnormal DISCOVER rates
- Review IDS alerts

### ğŸ› ï¸ Mitigation
- DHCP rate limiting
- MAC filtering
- Switch security features

---

## ğŸ§  SOC Analyst Mindset

| Symptom | Possible Cause | Action |
|------|--------------|-------|
IP Conflict | Spoofing | Check ARP |
Wrong Gateway | Rogue DHCP | Inspect DHCP logs |
APIPA Address | DHCP Failure | Check Server |
Slow Network | MITM / Flood | Traffic analysis |

---

## ğŸ Conclusion

This lab demonstrates how **network fundamentals directly impact security**.

> A SOC Analyst doesnâ€™t just look at alerts â€”  
> **they understand how the network behaves when under attack.**

---

## ğŸš€ Skills Demonstrated
- Networking fundamentals
- Security analysis
- Incident response thinking
- SOC-level troubleshooting

---

ğŸ“Œ **Author:** Alaa Taissir El Sayed  
ğŸ“Œ **Role:** SOC Analyst / Cybersecurity Student  
ğŸ“Œ **Focus:** Networking, Detection, Defense
